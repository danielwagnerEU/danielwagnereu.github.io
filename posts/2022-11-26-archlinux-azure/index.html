<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Arch Linux on Azure - Daniel Wagner</title><meta name=description content="After years of using my favorite Linux distribution on my on-premise systems, like desktops, servers or even Raspberry Pis I&rsquo;ve be always keen to use Arch on cloud as well. Unfortunately there aren&rsquo;t any prebuilt images for Arch Linux available on the most public hyperscalers.
I&rsquo;m now happy to announce the availabilty of an community Arch Linux image on Azure, as I got the possibility to be party of the preview of the community galleries preview 1."><meta name=author content="Daniel Wagner"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Daniel Wagner","url":"https:\/\/danielwagner.at\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/danielwagner.at\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/danielwagner.at\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/danielwagner.at\/posts\/2022-11-26-archlinux-azure\/","name":"Arch linux on azure"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Daniel Wagner"},"headline":"Arch Linux on Azure","description":"After years of using my favorite Linux distribution on my on-premise systems, like desktops, servers or even Raspberry Pis I\u0026rsquo;ve be always keen to use Arch on cloud as well. Unfortunately there aren\u0026rsquo;t any prebuilt images for Arch Linux available on the most public hyperscalers.\nI\u0026rsquo;m now happy to announce the availabilty of an community Arch Linux image on Azure, as I got the possibility to be party of the preview of the community galleries preview 1.","inLanguage":"en","wordCount":287,"datePublished":"2022-11-26T14:10:00","dateModified":"2022-11-26T14:10:00","image":"https:\/\/danielwagner.at\/img\/logo.avif","keywords":["archlinux, azure, cloud, image"],"mainEntityOfPage":"https:\/\/danielwagner.at\/posts\/2022-11-26-archlinux-azure\/","publisher":{"@type":"Organization","name":"https:\/\/danielwagner.at\/","logo":{"@type":"ImageObject","url":"https:\/\/danielwagner.at\/img\/logo.avif","height":60,"width":60}}}</script><meta property="og:title" content="Arch Linux on Azure"><meta property="og:description" content="After years of using my favorite Linux distribution on my on-premise systems, like desktops, servers or even Raspberry Pis I&rsquo;ve be always keen to use Arch on cloud as well. Unfortunately there aren&rsquo;t any prebuilt images for Arch Linux available on the most public hyperscalers.
I&rsquo;m now happy to announce the availabilty of an community Arch Linux image on Azure, as I got the possibility to be party of the preview of the community galleries preview 1."><meta property="og:image" content="https://danielwagner.at/img/logo.avif"><meta property="og:url" content="https://danielwagner.at/posts/2022-11-26-archlinux-azure/"><meta property="og:type" content="website"><meta property="og:site_name" content="Daniel Wagner"><meta name=twitter:title content="Arch Linux on Azure"><meta name=twitter:description content="After years of using my favorite Linux distribution on my on-premise systems, like desktops, servers or even Raspberry Pis I&rsquo;ve be always keen to use Arch on cloud as well. Unfortunately there …"><meta name=twitter:image content="https://danielwagner.at/img/logo.avif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@daniel_wagn3r"><meta name=twitter:creator content="@daniel_wagn3r"><link href=https://danielwagner.at/img/favicon.png rel=icon type=image/x-icon><meta name=generator content="Hugo 0.109.0"><link rel=alternate href=https://danielwagner.at/index.xml type=application/rss+xml title="Daniel Wagner"><link rel=stylesheet href=https://danielwagner.at/css/katex.min.css><link rel=stylesheet href=https://danielwagner.at/fontawesome/css/all.css><link rel=stylesheet href=https://danielwagner.at/css/bootstrap.min.css><link rel=stylesheet href=https://danielwagner.at/css/main.css><link rel=stylesheet href=https://danielwagner.at/css/fonts.css><link rel=stylesheet href=https://danielwagner.at/css/syntax.css><link rel=stylesheet href=https://danielwagner.at/css/codeblock.css><link rel=stylesheet href=https://danielwagner.at/css/photoswipe.min.css><link rel=stylesheet href=https://danielwagner.at/css/photoswipe.default-skin.min.css></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=https://danielwagner.at/>Daniel Wagner</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Blog href=/>Blog</a></li><li class=navlinks-container><a class=navlinks-parent>Projects</a><div class=navlinks-children><a href=/projects/coderdojo>CoderDojo</a></div></li><li><a title=About href=/page/about/>About</a></li><li><a title=Tags href=/tags>Tags</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Daniel Wagner" href=https://danielwagner.at/><img class=avatar-img src=https://danielwagner.at/img/logo.avif alt="Daniel Wagner"></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=posts-heading><h1>Arch Linux on Azure</h1><hr class=small></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p><a href=https://archlinux.org><picture><img src=/img/20221126/archlinux01.webp alt="Arch Linux on Azure" loading=lazy decoding=async width=765 height=304></picture></a></p><p>After years of using my favorite Linux distribution on my on-premise systems, like desktops, servers or even Raspberry Pis I&rsquo;ve be always keen to use Arch on cloud as well. Unfortunately there aren&rsquo;t any prebuilt images for Arch Linux available on the most public hyperscalers.</p><p>I&rsquo;m now happy to announce the availabilty of an community Arch Linux image on Azure, as I got the possibility to be party of the preview of the community galleries preview <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>You can find the image using the <em>Community Images (PREVIEW)</em> option on Azure Portal, with name <code>arch-linux</code> and publisher ´danielwagn3r` as shown here:</p><p><a href=https://portal.azure.com/#create/Microsoft.VirtualMachine><picture><img src=/img/20221126/archlinux03.webp alt="Community Images" loading=lazy decoding=async width=921 height=282></picture></a></p><h2 id=building-the-image>Building the image</h2><p>After reading some blog posts and articles <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>,<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>,<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>,<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup> on the topic, I experimented with the image generation on my own. After some initial failes with QEMU and due the possiblity of a Windows box with Hyper-V on it I choose that approach to bootstrap my image. Initally I even skipped <code>cloud-init</code> on only packaged the <code>waagent</code> in the image, but I soon saw that the handling of an <code>cloud-init</code> enabled image was by far smoother when on Azure.</p><p>On the portal this then looks like this:</p><p><picture><img src=/img/20221126/archlinux02.webp alt="Virtual machine properties" loading=lazy decoding=async width=382 height=467></picture></p><p>The images is provided as is without any guarantee or liability.</p><h2 id=upcoming-work>Upcoming work</h2><p>Currently the image only support generation 1 VMs on Azure. Support for generation 2 VMs <sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup> would be nice, but requires some work with Secure Boot. Azure enables trusted launch <sup id=fnref:7><a href=#fn:7 class=footnote-ref role=doc-noteref>7</a></sup> per default with generation two VMs.</p><p>Another interesting option would be to provide an ARM based image, as Azure VMs with Arm are GA since September this year <sup id=fnref:8><a href=#fn:8 class=footnote-ref role=doc-noteref>8</a></sup></p><p>In case anybody want&rsquo;s to help with the work on this, just drop me a note.</p><h2 id=references>References</h2><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://learn.microsoft.com/en-us/azure/virtual-machines/share-gallery-community>https://learn.microsoft.com/en-us/azure/virtual-machines/share-gallery-community</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://learn.microsoft.com/en-us/azure/virtual-machines/linux/imaging>https://learn.microsoft.com/en-us/azure/virtual-machines/linux/imaging</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p><a href=https://guyrobottv.wordpress.com/2019/01/17/running-arch-linux-on-microsoft-azure-in-2019/>https://guyrobottv.wordpress.com/2019/01/17/running-arch-linux-on-microsoft-azure-in-2019/</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p><a href=https://codito.in/archlinux-on-azure/>https://codito.in/archlinux-on-azure/</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p><a href=https://gist.github.com/z3ntu/e2750efd7f0b93ab3427f097de3fbefa>https://gist.github.com/z3ntu/e2750efd7f0b93ab3427f097de3fbefa</a>&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6><p><a href=https://learn.microsoft.com/en-us/azure/virtual-machines/generation-2>https://learn.microsoft.com/en-us/azure/virtual-machines/generation-2</a>&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:7><p><a href=https://learn.microsoft.com/en-us/azure/virtual-machines/trusted-launch>https://learn.microsoft.com/en-us/azure/virtual-machines/trusted-launch</a>&#160;<a href=#fnref:7 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:8><p><a href=https://azure.microsoft.com/en-us/blog/azure-virtual-machines-with-ampere-altra-arm-based-processors-generally-available>https://azure.microsoft.com/en-us/blog/azure-virtual-machines-with-ampere-altra-arm-based-processors-generally-available/</a>&#160;<a href=#fnref:8 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><div class=blog-tags><a href=https://danielwagner.at//tags/archlinux/>archlinux</a>&nbsp;
<a href=https://danielwagner.at//tags/azure/>azure</a>&nbsp;
<a href=https://danielwagner.at//tags/cloud/>cloud</a>&nbsp;
<a href=https://danielwagner.at//tags/image/>image</a>&nbsp;</div><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=https%3a%2f%2fdanielwagner.at%2fposts%2f2022-11-26-archlinux-azure%2f&text=Arch%20Linux%20on%20Azure&via=daniel_wagn3r" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdanielwagner.at%2fposts%2f2022-11-26-archlinux-azure%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fdanielwagner.at%2fposts%2f2022-11-26-archlinux-azure%2f&title=Arch%20Linux%20on%20Azure" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fdanielwagner.at%2fposts%2f2022-11-26-archlinux-azure%2f&title=Arch%20Linux%20on%20Azure" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fdanielwagner.at%2fposts%2f2022-11-26-archlinux-azure%2f&title=Arch%20Linux%20on%20Azure" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fdanielwagner.at%2fposts%2f2022-11-26-archlinux-azure%2f&description=Arch%20Linux%20on%20Azure" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section></article><ul class="pager blog-pager"><li class=previous><a href=https://danielwagner.at/posts/2021-12-10-aoc2021-day10/ data-toggle=tooltip data-placement=top title="Advent of Code 2021 Day 10">&larr; Previous Post</a></li><li class=next><a href=https://danielwagner.at/posts/2022-12-30-2022-in-review/ data-toggle=tooltip data-placement=top title="Jahresrückblick 2022">Next Post &rarr;</a></li></ul></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=mailto:daniel@danielwagner.at title="Email me"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.facebook.com/daniel.wagn3r title=Facebook><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-facebook fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/danielwagn3r title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://gitlab.com/danielwagn3r title=GitLab><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-gitlab fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/daniel_wagn3r title=Twitter><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/danielwagn3r title=LinkedIn><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.instagram.com/dani3lwagner title=Instagram><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-instagram fa-stack-1x fa-inverse"></i></span></a></li><li><a rel=me href=https://fedi.at/@danielwagn3r title=Mastodon><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-mastodon fa-stack-1x fa-inverse"></i></span></a></li><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted"><a href=https://danielwagner.at>Daniel Wagner</a>
&nbsp;&bull;&nbsp;&copy;
2022
&nbsp;&bull;&nbsp;
<a href=https://danielwagner.at/>Daniel Wagner</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.109.0</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a>
&nbsp;&bull;&nbsp;[<a href=https://github.com/danielwagnerEU/danielwagnereu.github.io/tree/daea64796defe0e1c1e2cfdd1726113ae4be66b6>daea6479</a>]</p></div></div></div></footer><script src=https://danielwagner.at/js/katex.min.js></script>
<script src=https://danielwagner.at/js/auto-render.min.js></script>
<script src=https://danielwagner.at/js/jquery-3.5.1.slim.min.js></script>
<script src=https://danielwagner.at/js/bootstrap.min.js></script>
<script src=https://danielwagner.at/js/main.js></script><script>renderMathInElement(document.body)</script><script src=https://danielwagner.at/js/photoswipe.min.js></script>
<script src=https://danielwagner.at/js/photoswipe-ui-default.min.js></script><script src=https://danielwagner.at/js/load-photoswipe.js></script><footer><p class=copyright>Impressum
<a href="https://www.wkoecg.at/Ecg.aspx?FirmaID=961a03fa-ef08-4827-854d-85fed0463c35&_ga=2.161793212.1888238834.1672323723-832547914.1654253026&_gl=1*1qlqecd*_ga*ODMyNTQ3OTE0LjE2NTQyNTMwMjY.*_ga_4YHGVSN5S4*MTY3MjM1NjY0Ni4yNy4xLjE2NzIzNTY4NDcuNTcuMC4w" target=_blank><img src=/img/ecg.webp alt="Informationspflicht lt. ECG und Mediengesetz" loading=lazy decoding=async width=169 height=23></a></p></footer></body></html>